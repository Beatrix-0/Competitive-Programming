# Recusive Code </br>

```cpp
#include <bits/stdc++.h>
using namespace std;

#ifndef ONLINE_JUDGE
#include "trace.cpp"
#else
#define dbg(...)
#endif

const int mx = 1e3+12;
int dp[mx][mx];
int n ;
string s ;

int yo ( int l , int r ){
    if ( l > r ) return 0 ;
    if ( l == r ) return 1 ;

    if ( dp[l][r] != -1 ) return dp[l][r];

    // same char
    if ( s[l] == s[r]){
        int remLen = r - l -1 ;
        int inLen = yo(l+1 , r-1 );
        if ( remLen == inLen ) { // inner string are planidrom
            return dp[l][r] = inLen + 2 ;
        }
    }
    // not same char
    int delLeft = yo(l+1 , r );
    int delRight = yo(l , r-1 );
    return dp[l][r] = max ( delLeft , delRight);
}

void solve() {
    cin >> n ;
    cin >> s ;
    memset(dp , -1 , sizeof(dp));
    int len = yo(0 , n-1 );
    cout << len << '\n';
}

int32_t main() {
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);

    int tests = 1;
    // cin >> tests;
    for ( int tc = 1 ; tc <= tests ; tc++ ){
        solve();
    }
    return 0;
}
```

# Iterative Code </br>

```cpp
#include <bits/stdc++.h>
using namespace std;

#ifndef ONLINE_JUDGE
#include "trace.cpp"
#else
#define dbg(...)
#endif

void solve() {
    int n ; cin >> n ;
    string s ; cin >> s ;
    vector<vector<int>>dp(n , vector<int>(n,0));
    int mxLen = 1 ;
    // single char
    for ( int i = 0 ; i < n ; i++ ){
        dp[i][i] = 1;
    }
    // double char
    for ( int i = 0 ; i< n-1 ; i++ ){
        if ( s[i] == s[i+1]){
            dp[i][i+1] = 2;
        }
        else {
            dp[i][i+1] = 1;
        }
        mxLen = max ( mxLen , dp[i][i+1]);
    }
    // len >= 3
    for ( int len = 3 ; len <= n ; len++){
        // window of size len
        for ( int l = 0 ; l + len -1 < n ; l++ ){
            int r = l+len-1;
            if ( s[l] == s[r] && dp[l+1][r-1] == len-2 ){
                dp[l][r] = dp[l + 1][r - 1] + 2;
            }
            else {
                dp[l][r] = max ( dp[l + 1][r] , dp[l][r - 1]);
            }
            mxLen = max( mxLen , dp[l][r]);
        }
    }
    cout << mxLen << '\n';
}

int32_t main() {
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);

    int tests = 1;
    // cin >> tests;
    for ( int tc = 1 ; tc <= tests ; tc++ ){
        solve();
    }
    return 0;
}
```
